{% extends 'base.html' %}
{% load static %}
{% block title %} Shop Rigel Spices {% endblock %}
{% block content %}

        <!-- Wishlist header section -->

        <section class="shop_header layout_padding">
            <div class="container">
                <h1>WELCOME TO RIGEL SPICES WISHLIST <i class="fa fa-heart-o"></i></h1>
            </div>
        </section>

        <!-- end wishlist header -->

        <!-- Wishlist section starts -->
        {% if items %}
        <section>
            <div class="container wishlist" style="overflow-x: auto;">
                <table>
                    <tr>
                        <th></th>
                        <th></th>
                        <th>PRODUCT</th>
                        <th>PRICE</th>
                        <th>STOCK STATUS</th>
                        <th></th>
                    </tr>
                    {% for item in items %}
                    <tr>
                        
                        <td>
                            <a href="{% url 'remove_wish' item.product.id %}" id="myBtnRemove"><i class="fa fa-times"></i></a>
                            <div id="myModalRemove" class="modal_msg">
                                <!-- Modal content -->
                                <div class="modal_msg-content">
                                  <span class="close_modal_remove"><i class="fa fa-times-circle"></i></span>
                                  <p><i class="fa fa-check-circle" style="color: white;"></i> Removed</p>
                                </div>
                              </div>
                        </td>
                        <td>
                            <img src="{{item.product.img.url}}" width="200px" height="auto" class="product-image">
                        </td>
                        <td>
                            <a href="">{{item.product.name}}</a>
                        </td>
                        <td>Rs. {{item.product.price}}</td>
                        <td>In Stock</td>
                        <td>
                            <a href="{% url 'add_cart' item.product.id %}" id="myBtnCart" ><button type="submit" class="addcart">Add to Cart</button></a>
                            <div id="myModalCart" class="modal_msg">
                                <!-- Modal content -->
                                <div class="modal_msg-content">
                                    <span class="close_modal_cart"><i class="fa fa-times-circle"></i></span>
                                    <p><i class="fa fa-check-circle" style="color: white;"></i> Added to Cart !</p>
                                </div>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                
                   
                </table>
                {% else %}
                <br><br><br>
          <h2 class="text-center">Your Wishlist is Empty</h2><br>
          <div class="text-center">
            <a href="{% url 'shop' %}" class="btn btn-primary">Continue Shopping</a>
          </div><br><br><br>
          {% endif %}
            </div>


            
            <!-- Wishlist section ends -->

            <!-- end info_section -->
{% endblock %}


<script>
    // Get the modal
    var modal_cart = document.getElementById("myModalCart");
    var modal_remove = document.getElementById("myModalRemove");

    // Get the button that opens the modal
    var btn_cart = document.getElementById("myBtnCart");
    var btn_remove = document.getElementById("myBtnRemove");

    // Get the <span> element that closes the modal
    var span_cart = document.getElementsByClassName("close_modal_cart")[0];
    var span_remove = document.getElementsByClassName("close_modal_remove")[0];

    // When the user clicks on the button, open the modal
    btn_cart.onclick = function () {
        modal_cart.style.display = "block";
    }
    btn_remove.onclick = function () {
        modal_remove.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span_cart.onclick = function () {
        modal_cart.style.display = "none";
    }
    span_remove.onclick = function () {
        modal_remove.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    // window.onclick = function (event) {
    //     if (event.target == modal_remove) {
    //         modal_remove.style.display = "none";
    //     }
    // }
    // window.onclick = function (event_cart) {
    //     if (event_cart.target == modal_cart) {
    //         modal_cart.style.display = "none";
    //     }
    // }

    function hideRemove() {
        document.getElementById("myModalRemove").style.display = "none";
    }
    setTimeout("hideRemove()", 7000);

    function hideCart() {
        document.getElementById("myModalCart").style.display = "none";
    }
    setTimeout("hideCart()", 7000);




